<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="alcunha@usp.br | +55 16 98119 2339">

<title>ANDRÉ LUIZ CUNHA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="curriculum_EN_files/libs/clipboard/clipboard.min.js"></script>
<script src="curriculum_EN_files/libs/quarto-html/quarto.js"></script>
<script src="curriculum_EN_files/libs/quarto-html/popper.min.js"></script>
<script src="curriculum_EN_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="curriculum_EN_files/libs/quarto-html/anchor.min.js"></script>
<link href="curriculum_EN_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="curriculum_EN_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="curriculum_EN_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="curriculum_EN_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="curriculum_EN_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ANDRÉ LUIZ CUNHA</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>alcunha@usp.br | +55 16 98119 2339 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="personal-details" class="level1">
<h1>PERSONAL DETAILS</h1>
<p>Dr.&nbsp;André Luiz Barbosa Nunes da Cunha<br>
Adjunct Professor, Departament of Transport Engineering<br>
University of São Paulo (<a href="https://www5.usp.br/en">USP</a>), São Carlos School of Engineering (<a href="https://eesc.usp.br/en/">EESC</a>)<br>
São Carlos, São Paulo, Brazil</p>
<p><a href="mailto:alcunha@usp.br" class="email">alcunha@usp.br</a> | <a href="https://scholar.google.com.br/citations?user=HI0CQJMAAAAJ&amp;hl=en">Google Scholar</a> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> | <a href="https://orcid.org/0000-0002-0520-0621">ORCID</a> <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> | <a href="http://lattes.cnpq.br/7996696632908127">Lattes</a> <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> | <a href="https://linktr.ee/prof_alcunha">LinkTree</a> <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
</section>
<section id="research-focus" class="level1">
<h1>RESEARCH FOCUS</h1>
<ul>
<li><p>AI-driven traffic modeling for smart cities.</p></li>
<li><p>Network vulnerability to extreme weather events.</p></li>
<li><p>Data science applications in transport policy.</p></li>
</ul>
</section>
<section id="education" class="level1">
<h1>EDUCATION</h1>
<ol type="1">
<li><p><strong>Ph.D.&nbsp;in Transportation Engineering</strong> Nov.&nbsp;2013<br>
University of São Paulo (USP), São Carlos School of Engineering (EESC), Brazil<br>
<em>Thesis</em>: “<code>Automatic system for vehicular traffic parameters using OpenCV</code>”<br>
<em>Advisor</em>: <code>Prof. José Reynaldo Anselmo Setti</code><br>
<em>DOI</em>: <a href="https://doi.org/10.11606/T.18.2013.tde-19112013-165611">10.11606/T.18.2013.tde-19112013-165611</a><br>
Funded by National Council for Scientific and Technological Development (CNPq), Brazil.</p></li>
<li><p><strong>M.S. in Transportation Engineering</strong> Oct.&nbsp;2007<br>
University of São Paulo (USP), São Carlos School of Engineering (EESC), Brazil<br>
<em>Thesis</em>: “<code>Evaluation of performance measurement impact on truck passenger car equivalents</code>”<br>
<em>Advisor</em>: <code>Prof. José Reynaldo Anselmo Setti</code><br>
<em>DOI</em>: <a href="https://doi.org/10.11606/D.18.2007.tde-27112007-094400">10.11606/D.18.2007.tde-27112007-094400</a><br>
Funded by National Council for Scientific and Technological Development (CNPq), Brazil.</p></li>
<li><p><strong>B.S. in Civil Engineering</strong> Feb.&nbsp;2004<br>
Federal University of Mato Grosso do Sul (UFMS), Campo Grande, Brazil<br>
<em>GPA</em>: 3.79/4.00 <span class="math inline">\(\rightarrow\)</span> (9.5/10.0)</p></li>
</ol>
</section>
<section id="experience" class="level1">
<h1>EXPERIENCE</h1>
<section id="academic-appointments" class="level2">
<h2 class="anchored" data-anchor-id="academic-appointments">Academic Appointments</h2>
<ol type="1">
<li><p><strong>University of São Paulo (USP-EESC)</strong> Jul.&nbsp;2014 – present<br>
<em>Adjunct Professor (MS-3.2) São Carlos, Brazil</em><br>
Full Dedication to Teaching and Research Regime (RDIDP)</p></li>
<li><p><strong>University of Zagreb (UNIZG)</strong> Apr.&nbsp;2022<br>
<em>Visiting Lecturer Zagreb, Croatia</em><br>
ERASMUS+ Program: Virtual Teaching Mobility Agreement (Workload: 8h)</p></li>
<li><p><strong>University of Melbourne (UniMelb)</strong> Jan.&nbsp;2020 – Dec 2020<br>
<em>Visiting Professor Melbourne, Australia</em><br>
CAPES-Print Program – Junior Visiting Professor No.&nbsp;88887.371506/2019-00</p></li>
<li><p><strong>University of Zagreb (UNIZG)</strong> Jun.&nbsp;2018<br>
<em>Visiting Lecturer Zagreb, Croatia</em><br>
ERASMUS+ Program: Higher Education Mobility Agreement (UNIZG/USP-EESC) (Workload: 13h)</p></li>
<li><p><strong>University of São Paulo (USP)</strong> Sep.&nbsp;2017<br>
<em>Visiting Professor São Paulo, Brazil</em><br>
TUM-USP <code>Workshop on Sustainable Mobility</code> funded by BAYLAT/FAPESP Call</p></li>
<li><p><strong>University of Minho (UMINHO)</strong> Jul.&nbsp;2017<br>
<em>Visiting Professor Guimarães, Portugal</em><br>
Mission funded by CAPES-FCT n.&nbsp;39/2014</p></li>
<li><p><strong>Technical University of Munich (TUM)</strong> Nov.&nbsp;2016 – Dec.&nbsp;2016<br>
<em>Visiting Professor Munich, Germany</em><br>
TUM-USP <code>Workshop on Sustainable Mobility</code> funded by BAYLAT/FAPESP Call</p></li>
<li><p><strong>São Paulo State University (UNESP)</strong> Mar.&nbsp;2010 – Dec.&nbsp;2010<br>
<em>Assistant Professor Bauru, Brazil</em><br>
Faculty of Engineering of Bauru (FEB), Civil Engineering undergraduate course.</p></li>
<li><p><strong>University of São Paulo (USP-EESC)</strong> Feb.&nbsp;2009 – Jun.&nbsp;2009<br>
<em>Graduate Assistant São Carlos, Brazil</em><br>
</p></li>
<li><p><strong>University of São Paulo (USP-EESC)</strong> Feb.&nbsp;2006 – Jun.&nbsp;2006<br>
<em>Graduate Assistant São Carlos, Brazil</em><br>
</p></li>
</ol>
</section>
<section id="professional-experience" class="level2">
<h2 class="anchored" data-anchor-id="professional-experience">Professional Experience</h2>
<ol type="1">
<li><p><strong>Canhedo Beppu Engenheiros Associados Ltda</strong> Jun.&nbsp;2023 – Dec.&nbsp;2023<br>
<em>Technical Consultant – Transportation Engineering Projects São Paulo, Brazil</em><br>
Evaluated site conditions to determine optimal placement of truck escape ramps on Via Dutra’s new descending lane, in Rio de Janeiro (BR-116 highway). Simulated operational scenarios to validate design effectiveness.</p></li>
<li><p><strong>ARTERIS Autopista Litoral Sul (ALS)</strong> Nov.&nbsp;2019 – Dec.&nbsp;2019<br>
<em>Technical Consultant – Transportation Engineering Projects Curitiba, Brazil</em><br>
Oversaw the execution of operational tests on the truck escape ramp at km 667 of BR-376 (Curitiba–Joinville corridor)<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>. Delivered a detailed technical assessment of ramp functionality under real-world conditions.</p></li>
</ol>
<ol start="3" type="1">
<li><p><strong>University of São Paulo (USP-EESC)</strong> Feb.&nbsp;2013 – Jun.&nbsp;2014<br>
<em>Research Assistant (Laboratory Specialist) São Carlos, Brazil</em><br>
Develop scientific research in projects led by faculty, with didactic-scientific and extension focus.</p></li>
<li><p><strong>Técnicos em Transportes Ltda (TECTRAN)</strong> Apr.&nbsp;2012 – Dec.&nbsp;2012<br>
<em>Consultant in Transport Planning and Engineering Belo Horizonte, Brazil</em><br>
Led the development and integration of structured databases to support EPELT, the Transport Logistics Planning Office of the Minas Gerais State Secretariat.</p></li>
<li><p><strong>Institute of Mathematical and Computer Sciences (ICMC-USP)</strong> Mar.&nbsp;2012 – Apr.&nbsp;2012<br>
<em>Civil Engineer São Carlos, Brazil</em><br>
Executed AutoCAD-based infrastructure digitization, oversaw routine building maintenance, and participated in the supervision of ongoing construction projects at ICMC.</p></li>
</ol>
</section>
</section>
<section id="teaching-experience" class="level1">
<h1>Teaching Experience</h1>
<p><strong>Lecturer at University of São Paulo</strong></p>
<section id="undergratuate" class="level2">
<h2 class="anchored" data-anchor-id="undergratuate">Undergratuate</h2>
<ol type="1">
<li><p><em>STT0618 - Air Transport 2014</em><br>
4th year elective transport course in Civil Engineering curriculum. Designed the lecturers, exercise and lab sessions. Small classroom of 10+ students.</p></li>
<li><p><em>STT0403 - Airports, Ports and Waterways 2015–present</em><br>
5th year compulsory transport course in Civil Engineering curriculum. Designed the lecturers and exercise sessions. Taught in classes of 50+ students.</p></li>
<li><p><em>STT0408 - Fundamentals of Transportation Engineering &nbsp;hfill 2015–present</em><br>
3rd year compulsory transport course in Civil Engineering curriculum. Designed and delivered this core transport course, integrating lectures, exercises, and applied lab sessions. Taught classes of 50+ students using inverted classroom strategies and project-based learning, fostering active student engagement and applied problem-solving. The course received an average student rating of 4.5/5.0, reflecting strong satisfaction and engagement.</p></li>
<li><p><em>STT0628 - Traffic Engineering and Road Traffic Simulation &nbsp;hfill 2015–present</em><br>
3rd year elective transport course in Civil Engineering curriculum. Designed the lecturers, exercise and lab sessions. Small classroom of 10+ students. Presents the fundamental theory of traffic simulation, while equipping students to apply concepts in practice and develop key technical skills.</p></li>
<li><p><em>1800093 - Final Undergraduate Project 2016–present</em><br>
5th year compulsory transport course in Civil Engineering curriculum. My role involves supervising and guiding students through the development of their final engineering projects, with a focus on applying transport engineering concepts to real-world problems. I support students in defining research questions, conducting technical analyses, and producing professional-grade reports, while fostering independent learning and critical thinking. I have supervised 25+ projects in this course.</p></li>
<li><p><em>STT0412 - Computational Tools Applied to Civil Engineering &nbsp;hfill 2016–present</em><br>
2nd year elective transport course in Civil Engineering curriculum. I designed and implemented this course to introduce students to computational thinking and practical toolsets for engineering problem-solving. The course encourages students to develop programming skills and apply digital tools—such as spreadsheets, CAD, GIS, and programming languages—to real-world challenges in civil and transport engineering. Small classroom of 20+ students.</p></li>
<li><p><em>1800122 - Supervised Internship 2019–present</em><br>
5th year compulsory transport course in Civil Engineering curriculum. My role involves supervising and evaluating student internships conducted in professional engineering environments. I oversee each student’s engagement with the host company, assess their performance, and ensure that the internship experience aligns with academic and professional learning objectives. I have supervised 15+ students.</p></li>
<li><p><em>STT0610 - Logistics and Transportation 2025–present</em><br>
4th year elective transport course in Civil Engineering curriculum. Designed the lecturers and exercise sessions. Small classroom of 10+ students.</p></li>
</ol>
</section>
<section id="graduate" class="level2">
<h2 class="anchored" data-anchor-id="graduate">Graduate</h2>
<ol type="1">
<li><p><em>STT5874 - Advanced Topics in Traffic Engineering 2015–present</em><br>
Elective course in the Transportation Engineering Program. Coordinate the course, designed the lectures and lab sessions. Small classroom of 10+ students. Provides a foundation in traffic simulation theory and engages students in applying concepts through real-world scenarios and hands-on technical training.</p></li>
<li><p><em>STT5898 - Applied Statistics for Transportation Engineering 2015–present</em><br>
Elective course in the Transportation Engineering Program. Coordinate the course, designed the lectures and exercises. Small classroom of 15+ students. This course serves as a foundational milestone, equipping students with the core statistical methods required for graduate-level study and research.</p></li>
<li><p><em>STT5900 - Multivariate Data Analysis Applied to Transportation Engineering 2015–present</em><br>
Elective course in the Transportation Engineering Program. Coordinate the course, designed the lectures and exercises. Small classroom of 15+ students. Course introducing AI techniques using R—such as neural networks, clustering, PCA, decision trees, and genetic algorithms—applied to each student’s own dataset. The course culminates in the submission of an article presenting the dataset, methodology, and preliminary results.</p></li>
<li><p><em>STT5859 - Transport Technology 2016–present</em><br>
Compulsory course in the Transportation Engineering Program. This core course is jointly taught by four professors and provides a comprehensive foundation in transportation planning and operations. Designed for students at all levels, it offers a structured, level-based approach to essential concepts and methodologies in the field. Small classroom of 15+ students.</p></li>
<li><p><em>STT5905 - Bibliographic Research for Transportation Systems Planning and Operation &nbsp;hfill 2017–present</em><br>
Compulsory course in the Transportation Engineering Program. A core course that guides and encourages students to develop a comprehensive literature review, fostering critical analysis and familiarity with key academic sources in the field. Small classroom of 15+ students.</p></li>
<li><p><em>STT5909 - Data Analysis Laboratory with Open-Source Software R 2017</em><br>
Elective course in the Transportation Engineering Program. Coordinate the course, designed the lectures and exercises. Small classroom of 10+ students. This course was designed to provide a foundational introduction to R programming for solving transport engineering problems.</p></li>
</ol>
</section>
</section>
<section id="supervision" class="level1">
<h1>Supervision</h1>
<ul>
<li><strong>PhD Students</strong>: 5 (1 completed, 4 ongoing)</li>
<li><strong>MSc Students</strong>: 16 (13 completed, 3 ongoing)</li>
<li><strong>Scientific Initiation</strong>: 16 (14 completed, 2 ongoing)</li>
<li><strong>Undergraduate Projects</strong>: 25 completed</li>
</ul>
</section>
<section id="research-income" class="level1">
<h1>Research Income</h1>
<p>I have secured over <strong>$ 1,7M</strong> (BRL) <span class="math inline">\(\approx\)</span> USD$ since starting at USP as a Adjunct Professor 11 years ago.</p>
<ol type="1">
<li><p><strong>Rethinking traffic modeling in transport networks for the next generation of smart and connected cities</strong><br>
Role: Principal Investigator 2023–2026<br>
Sponsor: CNPq Consolidated Research Groups - Process 409087/2023-8 $400,000</p></li>
<li><p><strong>Artificial Intelligence: development of tools for urban mobility</strong><br>
Role: Principal Investigator 2023–2026<br>
Sponsor: CNPq Research Productivity Grant - Process 311964/2022-2 $400,000</p></li>
<li><p><strong>Innovative Control Strategies for Sustainable Mobility in Smart Cities</strong><br>
Role: Co-Principal Investigator 2021–2021<br>
Sponsor: University of Zagreb $400,000</p></li>
<li><p><strong>Image-based method for axle detection and truck classification</strong><br>
Role: Principal Investigator 2018–2022<br>
Sponsor: CNPq Universal Grant - Process 436954/2018-4 $400,000</p></li>
<li><p><strong>Application of deep learning in intelligent traffic control system</strong><br>
Role: Co-Principal Investigator 2018–2018<br>
Sponsor: University of Zagreb (UNIZG) $400,000</p></li>
<li><p><strong>Studies aimed at promoting sustainable and safe urban mobility</strong><br>
Role: Co-Principal Investigator 2013–2016<br>
Sponsor: CAPES/FCT Program No.&nbsp;39/2017 $400,000</p></li>
</ol>
</section>
<section id="peer-reviewed-journal-publications" class="level1">
<h1>Peer-Reviewed Journal Publications</h1>
</section>
<section id="conference-proceedings" class="level1">
<h1>Conference Proceedings</h1>
</section>
<section id="supervision-1" class="level1">
<h1>Supervision</h1>
</section>
<section id="awards-honors" class="level1">
<h1>Awards &amp; Honors</h1>
</section>
<section id="international-collaborations" class="level1">
<h1>International Collaborations</h1>
</section>
<section id="professional-services" class="level1">
<h1>Professional Services</h1>
</section>
<section id="technical-skills" class="level1">
<h1>Technical Skills</h1>
</section>
<section id="languages" class="level1">
<h1>Languages</h1>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><a href="https://scholar.google.com.br/citations?user=HI0CQJMAAAAJ&amp;hl=en" class="uri">https://scholar.google.com.br/citations?user=HI0CQJMAAAAJ&amp;hl=en</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="https://orcid.org/0000-0002-0520-0621" class="uri">https://orcid.org/0000-0002-0520-0621</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a href="http://lattes.cnpq.br/7996696632908127" class="uri">http://lattes.cnpq.br/7996696632908127</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><a href="https://linktr.ee/prof_alcunha" class="uri">https://linktr.ee/prof_alcunha</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Interview featured on Rede Globo’s Jornal Hoje program (<a href="https://globoplay.globo.com/v/8165879/" class="uri">https://globoplay.globo.com/v/8165879/</a>).<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>